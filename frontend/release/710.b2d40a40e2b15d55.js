"use strict";(self.webpackChunkvelzon=self.webpackChunkvelzon||[]).push([[710],{66710:(Rt,E,s)=>{s.r(E),s.d(E,{TongHopVaTaoLapModule:()=>Kt});var u=s(36895),p=s(47081),_=s(80529),x=s(24766),t=s(55062),m=s(11481),v=s(33168);let y=(()=>{class e{constructor(n){this.http=n}getBaoCao(){let n=`${x.N.fileServer}MinIO?bucketName=gtvt`;return console.log(n),this.http.get(n)}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(_.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var C=s(15697),b=s(22284);function k(e,c){if(1&e&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&e){const n=t.oxw(2).$implicit;t.uIk("rowspan",n.donvi.length),t.xp6(1),t.hij(" ",n.nhom," ")}}function A(e,c){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.hij(" (",n.file.length,") ")}}function D(e,c){if(1&e){const n=t.EpF();t.ynx(0),t._UZ(1,"hr"),t.TgZ(2,"a",18),t.NdJ("click",function(){const i=t.CHM(n).$implicit,l=t.oxw(4);return t.KtG(l.downloadFile(i.key))}),t.TgZ(3,"p",25),t._uU(4),t.qZA()(),t.BQk()}if(2&e){const n=c.$implicit;t.xp6(4),t.hij(" ",n.key.split("/").pop()," ")}}function U(e,c){if(1&e&&(t.ynx(0,24),t.YNc(1,D,5,1,"ng-container",16),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",n.file)}}function P(e,c){1&e&&(t.ynx(0),t._UZ(1,"hr")(2,"br"),t.BQk())}function Q(e,c){if(1&e&&(t.ynx(0),t.YNc(1,P,3,0,"ng-container",16),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",n.file)}}function N(e,c){1&e&&(t.ynx(0),t._UZ(1,"hr")(2,"br"),t.BQk())}function B(e,c){if(1&e&&(t.ynx(0),t.YNc(1,N,3,0,"ng-container",16),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",n.file)}}const q=function(e){return{color:e}};function F(e,c){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"tr"),t.YNc(2,k,2,2,"th",21),t.TgZ(3,"th",22)(4,"a",18),t.NdJ("click",function(){const i=t.CHM(n).index,l=t.oxw().index,r=t.oxw();return t.KtG(r.clickShow(l,i))}),t._uU(5),t.YNc(6,A,2,1,"span",21),t.qZA(),t.YNc(7,U,2,1,"ng-container",23),t.qZA(),t.TgZ(8,"td"),t._UZ(9,"br"),t.YNc(10,Q,2,1,"ng-container",21),t.qZA(),t.TgZ(11,"td"),t._UZ(12,"br"),t.YNc(13,B,2,1,"ng-container",21),t.qZA()(),t.BQk()}if(2&e){const n=c.$implicit,a=c.index,o=t.oxw().$implicit;t.xp6(2),t.Q6J("ngIf",0===a),t.xp6(1),t.Q6J("ngStyle",t.VKq(8,q,n.file.length>0?"rgb(60, 179, 113)":"rgb(100, 100, 100)")),t.xp6(2),t.AsE(" ",o.nhom," ",n.ten," "),t.xp6(1),t.Q6J("ngIf",n.file.length>0),t.xp6(1),t.Q6J("ngIf",0!=n.show),t.xp6(3),t.Q6J("ngIf",0!=n.show),t.xp6(3),t.Q6J("ngIf",0!=n.show)}}function I(e,c){if(1&e&&(t.ynx(0),t.YNc(1,F,14,10,"ng-container",16),t.BQk()),2&e){const n=c.$implicit;t.xp6(1),t.Q6J("ngForOf",n.donvi)}}function S(e,c){1&e&&(t.TgZ(0,"h3",33),t._uU(1,"C\u1ea3nh b\xe1o"),t.qZA())}function $(e,c){1&e&&(t.TgZ(0,"h3",33),t._uU(1,"T\u1ea1o l\u1eadp b\xe1o c\xe1o"),t.qZA())}function J(e,c){if(1&e&&(t.TgZ(0,"p",34),t._uU(1),t.qZA()),2&e){const n=t.oxw(2);t.xp6(1),t.hij(" S\u1ed1 l\u01b0\u1ee3ng b\xe1o c\xe1o ch\u01b0a \u0111\u1ee7, ",n.countfile,"/26 \u0111\u01a1n v\u1ecb \u0111\xe3 n\u1ed9p b\xe1o c\xe1o. Ti\u1ebfp t\u1ee5c t\u1ea1o l\u1eadp? ")}}function L(e,c){if(1&e&&(t.TgZ(0,"p",34),t._uU(1),t.qZA()),2&e){const n=t.oxw(2);t.xp6(1),t.hij(" ",n.countfile,"/26 \u0111\u01a1n v\u1ecb \u0111\xe3 n\u1ed9p b\xe1o c\xe1o. Ti\u1ebfp t\u1ee5c t\u1ea1o l\u1eadp? ")}}function K(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"div",26),t.YNc(1,S,2,0,"h3",27),t.YNc(2,$,2,0,"h3",27),t.qZA(),t.TgZ(3,"div",28),t.YNc(4,J,2,1,"p",29),t.YNc(5,L,2,1,"p",29),t.qZA(),t.TgZ(6,"div",30)(7,"button",31),t.NdJ("click",function(){const i=t.CHM(n).$implicit;return t.KtG(i.close("Close click"))}),t._uU(8," Kh\xf4ng "),t.qZA(),t.TgZ(9,"button",32),t.NdJ("click",function(){const i=t.CHM(n).$implicit,l=t.oxw();return i.close("Close click"),t.KtG(l.taobaocao())}),t._uU(10," C\xf3 "),t.qZA()()}if(2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.countfile<26),t.xp6(1),t.Q6J("ngIf",26==n.countfile),t.xp6(2),t.Q6J("ngIf",n.countfile<26),t.xp6(1),t.Q6J("ngIf",26==n.countfile)}}let H=(()=>{class e{constructor(n,a,o,i){this.http=n,this.sanitizer=a,this.modalService=o,this.baocaoService=i,this.isVisible=!0,this.data=[{nhom:"Qu\xe2n ch\u1ee7ng",donvi:[{ten:"H\u1ea3i Qu\xe2n",show:!1,viettat:"HQ",file:[]},{ten:"PK-KQ",show:!1,viettat:"QCPK-KQ",file:[]}]},{nhom:"B\u1ed9 T\u01b0 l\u1ec7nh",donvi:[{ten:"C\u1ea3nh s\xe1t bi\u1ec3n",show:!1,viettat:"CSB",file:[]},{ten:"B\u1ed9 \u0111\u1ed9i bi\xean ph\xf2ng",show:!1,viettat:"BP",file:[]}]},{nhom:"Qu\xe2n khu",donvi:[{ten:"1",show:!1,viettat:"QK_1",file:[]},{ten:"2",show:!1,viettat:"QK_2",file:[]},{ten:"3",show:!1,viettat:"QK_3",file:[]},{ten:"4",show:!1,viettat:"QK_4",file:[]},{ten:"5",show:!1,viettat:"QK_5",file:[]},{ten:"6",show:!1,viettat:"QK_6",file:[]},{ten:"7",show:!1,viettat:"QK_7",file:[]},{ten:"9",show:!1,viettat:"QK_9",file:[]}]},{nhom:"Qu\xe2n \u0111o\xe0n",donvi:[{ten:"12",show:!1,viettat:"QD12",file:[]},{ten:"3",show:!1,viettat:"QD3",file:[]},{ten:"4",show:!1,viettat:"QD4",file:[]}]},{nhom:"T\u1ed5ng c\u1ee5c",donvi:[{ten:"2",show:!1,viettat:"TC2",file:[]},{ten:"H\u1eadu c\u1ea7n",show:!1,viettat:"TCHC",file:[]},{ten:"K\u1ef9 thu\u1eadt",show:!1,viettat:"TCKT",file:[]}]},{nhom:"Binh ch\u1ee7ng",donvi:[{ten:"C\xf4ng binh",show:!1,viettat:"BCCB",file:[]},{ten:"\u0110\u1eb7c C\xf4ng",show:!1,viettat:"BCDC",file:[]},{ten:"H\xf3a h\u1ecdc",show:!1,viettat:"BCHH",file:[]},{ten:"Ph\xe1o binh",show:!1,viettat:"BCPB",file:[]},{ten:"T\u0103ng Thi\u1ebft gi\xe1p",show:!1,viettat:"TBCTG",file:[]},{ten:"Th\xf4ng tin li\xean l\u1ea1c",show:!1,viettat:"BCTTLL",file:[]}]},{nhom:"C\u1ee5c",donvi:[{ten:"C\u1ee9u h\u1ed9 c\u1ee9u n\u1ea1n",show:!1,viettat:"CHCN",file:[]}]}]}ngOnInit(){this.getCurrentDateTime();const n=this.currentDateTime.getFullYear(),a=("0"+(this.currentDateTime.getMonth()+1)).slice(-2),o=("0"+this.currentDateTime.getDate()).slice(-2);this.initialDate=`${n}-${a}-${o}`,this.date=`${o}-${a}-${n}`,this.baocaoService.getBaoCao().subscribe(i=>{console.log(i),this.listfile=i,this.getFileCount(`${o}.${a}.${n}`)})}getFileCount(n){this.countfile=0;for(let a of this.data)for(let o of a.donvi)o.file=this.listfile.filter(i=>i.key.includes(o.viettat)&&i.key.includes(n)),o.file.length>0&&(this.countfile=this.countfile+1)}getCurrentDateTime(){this.currentDateTime=new Date}openDialog(n){this.modalService.open(n,{centered:!0})}toggleVisibility(){this.isVisible=!this.isVisible}clickShow(n,a){this.data[n].donvi[a].show=!this.data[n].donvi[a].show}changeDate(){const n=this.initialDate.split("-")[0],a=this.initialDate.split("-")[1],o=this.initialDate.split("-")[2];this.date=`${o}-${a}-${n}`,this.getFileCount(`${o}.${a}.${n}`)}taobaocao(){const n=new _.WM({Accept:"multipart/form-data"}),a=new FormData;return a.append("date",this.initialDate),this.http.post("http://192.168.68.3:4623/download-file-day",a,{headers:n,responseType:"blob"}).subscribe(i=>{const l=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),r=window.URL.createObjectURL(l),h=document.createElement("a");h.href=r,h.download="baocaongay"+this.date,h.click(),window.URL.revokeObjectURL(r)},i=>{console.error("Error fetching file:",i)})}downloadFile(n){return this.http.get(x.N.fileServer+"MinIO/download?bucketName=gtvt&path="+n,{responseType:"blob"}).subscribe(o=>{const i=new Blob([o],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),l=window.URL.createObjectURL(i),r=document.createElement("a");r.href=l,r.download=n.split("/").pop(),r.click(),window.URL.revokeObjectURL(l)},o=>{console.error("Error fetching file:",o)})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(_.eN),t.Y36(m.H7),t.Y36(v.FF),t.Y36(y))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-ngay"]],decls:36,vars:3,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header"],[1,"mb-0"],[1,"card-body"],[1,"selectdate"],[1,"mt-2"],["displayFormat","dd-MM-yyyy",1,"input-date",3,"value","valueChange","onValueChanged"],["icon","refresh","text","T\u1ea3i d\u1eef li\u1ec7u"],["routerLink","/tong-hop-va-tao-lap/ngay/nang-cao"],[1,"btn","btn-success"],[1,"card-footer"],[1,"view-table"],[1,"table","align-middle"],[1,"bg-light"],[4,"ngFor","ngForOf"],[1,"btllapbc","mt-3"],[3,"click"],["type","submit",1,"btn","btn-success"],["content",""],[4,"ngIf"],[1,"styleleft",3,"ngStyle"],["class","p-0 m-0",4,"ngIf"],[1,"p-0","m-0"],[1,"stylep","file"],[1,"modal-header"],["class","modal-title",4,"ngIf"],[1,"modal-body"],["class","canhbao",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btntaidl","btn-danger",3,"click"],["type","button",1,"btn","btntaidl","btnw","btn-success",3,"click"],[1,"modal-title"],[1,"canhbao"]],template:function(n,a){if(1&n){const o=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5),t.qZA()(),t.TgZ(6,"div",5)(7,"div",6)(8,"label",7),t._uU(9,"Ng\xe0y :"),t.qZA(),t.TgZ(10,"dx-date-box",8),t.NdJ("valueChange",function(l){return a.initialDate=l})("onValueChanged",function(){return a.changeDate()}),t.qZA(),t._UZ(11,"dx-button",9),t.qZA(),t.TgZ(12,"a",10)(13,"button",11),t._uU(14,"N\xe2ng cao"),t.qZA()()(),t.TgZ(15,"div",12)(16,"div",13)(17,"table",14)(18,"thead")(19,"tr",15)(20,"th"),t._uU(21,"Nh\xf3m"),t.qZA(),t.TgZ(22,"th"),t._uU(23,"\u0110\u01a1n v\u1ecb"),t.qZA(),t.TgZ(24,"th"),t._uU(25,"Th\u1eddi gian g\u1eedi"),t.qZA(),t.TgZ(26,"th"),t._uU(27,"Ng\u01b0\u1eddi g\u1eedi"),t.qZA()()(),t.TgZ(28,"tbody"),t.YNc(29,I,2,1,"ng-container",16),t.qZA()()(),t.TgZ(30,"div",17)(31,"a",18),t.NdJ("click",function(){t.CHM(o);const l=t.MAs(35);return t.KtG(a.openDialog(l))}),t.TgZ(32,"button",19),t._uU(33," T\u1ea1o l\u1eadp b\xe1o c\xe1o "),t.qZA()()()()()()(),t.YNc(34,K,11,4,"ng-template",null,20,t.W1O)}2&n&&(t.xp6(5),t.hij("T\u1ed5ng h\u1ee3p v\xe0 t\u1ea1o l\u1eadp b\xe1o c\xe1o ng\xe0y ",a.date,""),t.xp6(5),t.Q6J("value",a.initialDate),t.xp6(19),t.Q6J("ngForOf",a.data))},dependencies:[u.sg,u.O5,u.PC,p.yS,C.K,b.M],styles:['@charset "UTF-8";.input-date[_ngcontent-%COMP%]{width:200px;margin-left:20px;margin-right:70px}.card-body[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center}.selectdate[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #dddddd}.btllapbc[_ngcontent-%COMP%]{display:flex;justify-content:end;margin-right:10px;flex-wrap:wrap}.card-body[_ngcontent-%COMP%]{margin-left:50px;margin-right:50px}.card-footer[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.btntaidl[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:4px}.ri-refresh-line[_ngcontent-%COMP%]{font-size:11px;font-weight:700}.btnw[_ngcontent-%COMP%]{width:65px}.ri-download-2-fill[_ngcontent-%COMP%], .ri-repeat-2-line[_ngcontent-%COMP%], .ri-restart-line[_ngcontent-%COMP%]{font-weight:700;font-size:18px}.listbtn[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:end;margin-right:10px}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#f8f9fa;z-index:1}.view-table[_ngcontent-%COMP%]{height:calc(100vh - 385px);overflow-y:scroll}.stylep[_ngcontent-%COMP%]{color:#000;font-weight:400}.file[_ngcontent-%COMP%]{text-align:center;margin-left:30px;margin-right:30px;margin-bottom:0}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}.styleleft[_ngcontent-%COMP%]{text-align:left}table[_ngcontent-%COMP%]{font-size:14px;font-size:120%}.canhbao[_ngcontent-%COMP%]{font-size:17px!important}.modal-title[_ngcontent-%COMP%]{font-size:25px}hr[_ngcontent-%COMP%]{color:#4e4d4d}']}),e})();function Y(e,c){if(1&e&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&e){const n=t.oxw(2).$implicit;t.uIk("rowspan",n.donvi.length),t.xp6(1),t.hij(" ",n.nhom," ")}}function j(e,c){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.hij(" (",n.file.length,") ")}}function R(e,c){if(1&e){const n=t.EpF();t.ynx(0),t._UZ(1,"hr"),t.TgZ(2,"a",18),t.NdJ("click",function(){const i=t.CHM(n).$implicit,l=t.oxw(4);return t.KtG(l.downloadFile(i.key))}),t.TgZ(3,"p",25),t._uU(4),t.qZA()(),t.BQk()}if(2&e){const n=c.$implicit;t.xp6(4),t.hij(" ",n.key.split("/").pop()," ")}}function z(e,c){if(1&e&&(t.ynx(0,24),t.YNc(1,R,5,1,"ng-container",16),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",n.file)}}function V(e,c){1&e&&(t.ynx(0),t._UZ(1,"hr")(2,"br"),t.BQk())}function G(e,c){if(1&e&&(t.ynx(0),t.YNc(1,V,3,0,"ng-container",16),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",n.file)}}function W(e,c){1&e&&(t.ynx(0),t._UZ(1,"hr")(2,"br"),t.BQk())}function X(e,c){if(1&e&&(t.ynx(0),t.YNc(1,W,3,0,"ng-container",16),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",n.file)}}const tt=function(e){return{color:e}};function nt(e,c){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"tr"),t.YNc(2,Y,2,2,"th",21),t.TgZ(3,"th",22)(4,"a",18),t.NdJ("click",function(){const i=t.CHM(n).index,l=t.oxw().index,r=t.oxw();return t.KtG(r.clickShow(l,i))}),t._uU(5),t.YNc(6,j,2,1,"span",21),t.qZA(),t.YNc(7,z,2,1,"ng-container",23),t.qZA(),t.TgZ(8,"td"),t._UZ(9,"br"),t.YNc(10,G,2,1,"ng-container",21),t.qZA(),t.TgZ(11,"td"),t._UZ(12,"br"),t.YNc(13,X,2,1,"ng-container",21),t.qZA()(),t.BQk()}if(2&e){const n=c.$implicit,a=c.index,o=t.oxw().$implicit;t.xp6(2),t.Q6J("ngIf",0===a),t.xp6(1),t.Q6J("ngStyle",t.VKq(8,tt,n.file.length>0?"rgb(60, 179, 113)":"rgb(100, 100, 100)")),t.xp6(2),t.AsE(" ",o.nhom," ",n.ten," "),t.xp6(1),t.Q6J("ngIf",n.file.length>0),t.xp6(1),t.Q6J("ngIf",0!=n.show),t.xp6(3),t.Q6J("ngIf",0!=n.show),t.xp6(3),t.Q6J("ngIf",0!=n.show)}}function et(e,c){if(1&e&&(t.ynx(0),t.YNc(1,nt,14,10,"ng-container",16),t.BQk()),2&e){const n=c.$implicit;t.xp6(1),t.Q6J("ngForOf",n.donvi)}}function ot(e,c){1&e&&(t.TgZ(0,"h3",33),t._uU(1,"C\u1ea3nh b\xe1o"),t.qZA())}function it(e,c){1&e&&(t.TgZ(0,"h3",33),t._uU(1,"T\u1ea1o l\u1eadp b\xe1o c\xe1o"),t.qZA())}function at(e,c){if(1&e&&(t.TgZ(0,"p",34),t._uU(1),t.qZA()),2&e){const n=t.oxw(2);t.xp6(1),t.hij(" S\u1ed1 l\u01b0\u1ee3ng b\xe1o c\xe1o ch\u01b0a \u0111\u1ee7, ",n.countfile,"/26 \u0111\u01a1n v\u1ecb \u0111\xe3 n\u1ed9p b\xe1o c\xe1o. Ti\u1ebfp t\u1ee5c t\u1ea1o l\u1eadp? ")}}function ct(e,c){if(1&e&&(t.TgZ(0,"p",34),t._uU(1),t.qZA()),2&e){const n=t.oxw(2);t.xp6(1),t.hij(" ",n.countfile,"/26 \u0111\u01a1n v\u1ecb \u0111\xe3 n\u1ed9p b\xe1o c\xe1o. Ti\u1ebfp t\u1ee5c t\u1ea1o l\u1eadp? ")}}function lt(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"div",26),t.YNc(1,ot,2,0,"h3",27),t.YNc(2,it,2,0,"h3",27),t.qZA(),t.TgZ(3,"div",28),t.YNc(4,at,2,1,"p",29),t.YNc(5,ct,2,1,"p",29),t.qZA(),t.TgZ(6,"div",30)(7,"button",31),t.NdJ("click",function(){const i=t.CHM(n).$implicit;return t.KtG(i.close("Close click"))}),t._uU(8," Kh\xf4ng "),t.qZA(),t.TgZ(9,"button",32),t.NdJ("click",function(){const i=t.CHM(n).$implicit,l=t.oxw();return i.close("Close click"),t.KtG(l.taobaocao())}),t._uU(10," C\xf3 "),t.qZA()()}if(2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.countfile<26),t.xp6(1),t.Q6J("ngIf",26==n.countfile),t.xp6(2),t.Q6J("ngIf",n.countfile<26),t.xp6(1),t.Q6J("ngIf",26==n.countfile)}}let rt=(()=>{class e{constructor(n,a,o,i){this.http=n,this.sanitizer=a,this.modalService=o,this.baocaoService=i,this.isVisible=!0,this.data=[{nhom:"Qu\xe2n ch\u1ee7ng",donvi:[{ten:"H\u1ea3i Qu\xe2n",show:!1,viettat:"HQ",file:[]},{ten:"PK-KQ",show:!1,viettat:"QCPK-KQ",file:[]}]},{nhom:"B\u1ed9 T\u01b0 l\u1ec7nh",donvi:[{ten:"C\u1ea3nh s\xe1t bi\u1ec3n",show:!1,viettat:"CSB",file:[]},{ten:"B\u1ed9 \u0111\u1ed9i bi\xean ph\xf2ng",show:!1,viettat:"BP",file:[]}]},{nhom:"Qu\xe2n khu",donvi:[{ten:"1",show:!1,viettat:"QK_1",file:[]},{ten:"2",show:!1,viettat:"QK_2",file:[]},{ten:"3",show:!1,viettat:"QK_3",file:[]},{ten:"4",show:!1,viettat:"QK_4",file:[]},{ten:"5",show:!1,viettat:"QK_5",file:[]},{ten:"6",show:!1,viettat:"QK_6",file:[]},{ten:"7",show:!1,viettat:"QK_7",file:[]},{ten:"9",show:!1,viettat:"QK_9",file:[]}]},{nhom:"Qu\xe2n \u0111o\xe0n",donvi:[{ten:"12",show:!1,viettat:"QD12",file:[]},{ten:"3",show:!1,viettat:"QD3",file:[]},{ten:"4",show:!1,viettat:"QD4",file:[]}]},{nhom:"T\u1ed5ng c\u1ee5c",donvi:[{ten:"2",show:!1,viettat:"TC2",file:[]},{ten:"H\u1eadu c\u1ea7n",show:!1,viettat:"TCHC",file:[]},{ten:"K\u1ef9 thu\u1eadt",show:!1,viettat:"TCKT",file:[]}]},{nhom:"Binh ch\u1ee7ng",donvi:[{ten:"C\xf4ng binh",show:!1,viettat:"BCCB",file:[]},{ten:"\u0110\u1eb7c C\xf4ng",show:!1,viettat:"BCDC",file:[]},{ten:"H\xf3a h\u1ecdc",show:!1,viettat:"BCHH",file:[]},{ten:"Ph\xe1o binh",show:!1,viettat:"BCPB",file:[]},{ten:"T\u0103ng Thi\u1ebft gi\xe1p",show:!1,viettat:"TBCTG",file:[]},{ten:"Th\xf4ng tin li\xean l\u1ea1c",show:!1,viettat:"BCTTLL",file:[]}]},{nhom:"C\u1ee5c",donvi:[{ten:"C\u1ee9u h\u1ed9 c\u1ee9u n\u1ea1n",show:!1,viettat:"CHCN",file:[]}]}]}ngOnInit(){this.getCurrentDateTime();const n=this.currentDateTime.getFullYear(),a=("0"+(this.currentDateTime.getMonth()+1)).slice(-2),o=("0"+this.currentDateTime.getDate()).slice(-2);this.initialDate=`${n}-${a}-${o}`,this.date=`${o}-${a}-${n}`,this.baocaoService.getBaoCao().subscribe(i=>{console.log(i),this.listfile=i,this.getFileCount(`${o}.${a}.${n}`)})}getFileCount(n){this.countfile=0;for(let a of this.data)for(let o of a.donvi)o.file=this.listfile.filter(i=>i.key.includes(o.viettat)&&i.key.includes(n)),o.file.length>0&&(this.countfile=this.countfile+1)}getCurrentDateTime(){this.currentDateTime=new Date}openDialog(n){this.modalService.open(n,{centered:!0})}toggleVisibility(){this.isVisible=!this.isVisible}clickShow(n,a){this.data[n].donvi[a].show=!this.data[n].donvi[a].show}changeDate(){const n=this.initialDate.split("-")[0],a=this.initialDate.split("-")[1],o=this.initialDate.split("-")[2];this.date=`${o}-${a}-${n}`,this.getFileCount(`${o}.${a}.${n}`)}taobaocao(){const n=new _.WM({Accept:"multipart/form-data"}),a=new FormData;return a.append("date",this.initialDate),this.http.post("http://192.168.68.3:4623/download-file-day",a,{headers:n,responseType:"blob"}).subscribe(i=>{const l=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),r=window.URL.createObjectURL(l),h=document.createElement("a");h.href=r,h.download="baocaongay"+this.date,h.click(),window.URL.revokeObjectURL(r)},i=>{console.error("Error fetching file:",i)})}downloadFile(n){return this.http.get(x.N.fileServer+"MinIO/download?bucketName=gtvt&path="+n,{responseType:"blob"}).subscribe(o=>{const i=new Blob([o],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),l=window.URL.createObjectURL(i),r=document.createElement("a");r.href=l,r.download=n.split("/").pop(),r.click(),window.URL.revokeObjectURL(l)},o=>{console.error("Error fetching file:",o)})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(_.eN),t.Y36(m.H7),t.Y36(v.FF),t.Y36(y))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-tuan"]],decls:36,vars:2,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header"],[1,"mb-0"],[1,"card-body"],[1,"selectdate"],[1,"mt-2"],["id","date","displayFormat","dd-MM-yyyy",1,"input-date",3,"value","valueChange","onValueChanged"],["icon","refresh","text","T\u1ea3i d\u1eef li\u1ec7u"],["routerLink","/tong-hop-va-tao-lap/ngay/nang-cao"],[1,"btn","btn-success"],[1,"card-footer"],[1,"view-table"],[1,"table","align-middle"],[1,"bg-light"],[4,"ngFor","ngForOf"],[1,"btllapbc","mt-3"],[3,"click"],["type","submit",1,"btn","btn-success"],["content",""],[4,"ngIf"],[1,"styleleft",3,"ngStyle"],["class","p-0 m-0",4,"ngIf"],[1,"p-0","m-0"],[1,"stylep","file"],[1,"modal-header"],["class","modal-title",4,"ngIf"],[1,"modal-body"],["class","canhbao",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btntaidl","btn-danger",3,"click"],["type","button",1,"btn","btntaidl","btnw","btn-success",3,"click"],[1,"modal-title"],[1,"canhbao"]],template:function(n,a){if(1&n){const o=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5,"T\u1ed5ng h\u1ee3p v\xe0 t\u1ea1o l\u1eadp b\xe1o c\xe1o tu\u1ea7n"),t.qZA()(),t.TgZ(6,"div",5)(7,"div",6)(8,"label",7),t._uU(9,"Ng\xe0y :"),t.qZA(),t.TgZ(10,"dx-date-box",8),t.NdJ("valueChange",function(l){return a.initialDate=l})("onValueChanged",function(){return a.changeDate()}),t.qZA(),t._UZ(11,"dx-button",9),t.qZA(),t.TgZ(12,"a",10)(13,"button",11),t._uU(14,"N\xe2ng cao"),t.qZA()()(),t.TgZ(15,"div",12)(16,"div",13)(17,"table",14)(18,"thead")(19,"tr",15)(20,"th"),t._uU(21,"Nh\xf3m"),t.qZA(),t.TgZ(22,"th"),t._uU(23,"\u0110\u01a1n v\u1ecb"),t.qZA(),t.TgZ(24,"th"),t._uU(25,"Th\u1eddi gian g\u1eedi"),t.qZA(),t.TgZ(26,"th"),t._uU(27,"Ng\u01b0\u1eddi g\u1eedi"),t.qZA()()(),t.TgZ(28,"tbody"),t.YNc(29,et,2,1,"ng-container",16),t.qZA()()(),t.TgZ(30,"div",17)(31,"a",18),t.NdJ("click",function(){t.CHM(o);const l=t.MAs(35);return t.KtG(a.openDialog(l))}),t.TgZ(32,"button",19),t._uU(33," T\u1ea1o l\u1eadp b\xe1o c\xe1o "),t.qZA()()()()()()(),t.YNc(34,lt,11,4,"ng-template",null,20,t.W1O)}2&n&&(t.xp6(10),t.Q6J("value",a.initialDate),t.xp6(19),t.Q6J("ngForOf",a.data))},dependencies:[u.sg,u.O5,u.PC,p.yS,C.K,b.M],styles:['@charset "UTF-8";.input-date[_ngcontent-%COMP%]{width:200px;margin-left:20px;margin-right:70px}.card-body[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center}.selectdate[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #dddddd}.btllapbc[_ngcontent-%COMP%]{display:flex;justify-content:end;margin-right:10px;flex-wrap:wrap}.card-body[_ngcontent-%COMP%]{margin-left:50px;margin-right:50px}.card-footer[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.btntaidl[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:4px}.ri-refresh-line[_ngcontent-%COMP%]{font-size:11px;font-weight:700}.btnw[_ngcontent-%COMP%]{width:65px}.ri-download-2-fill[_ngcontent-%COMP%], .ri-repeat-2-line[_ngcontent-%COMP%], .ri-restart-line[_ngcontent-%COMP%]{font-weight:700;font-size:18px}.listbtn[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:end;margin-right:10px}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#f8f9fa;z-index:1}.view-table[_ngcontent-%COMP%]{height:calc(100vh - 385px);overflow-y:scroll}.stylep[_ngcontent-%COMP%]{color:#000;font-weight:400}.file[_ngcontent-%COMP%]{text-align:center;margin-left:30px;margin-right:30px;margin-bottom:0}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}.styleleft[_ngcontent-%COMP%]{text-align:left}table[_ngcontent-%COMP%]{font-size:14px}hr[_ngcontent-%COMP%]{color:#4e4d4d}.canhbao[_ngcontent-%COMP%]{font-size:17px!important}']}),e})();function st(e,c){if(1&e&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&e){const n=t.oxw(2).$implicit;t.uIk("rowspan",n.donvi.length),t.xp6(1),t.hij(" ",n.nhom," ")}}function gt(e,c){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.hij(" (",n.file.length,") ")}}function ht(e,c){if(1&e){const n=t.EpF();t.ynx(0),t._UZ(1,"hr"),t.TgZ(2,"a",18),t.NdJ("click",function(){const i=t.CHM(n).$implicit,l=t.oxw(4);return t.KtG(l.downloadFile(i.key))}),t.TgZ(3,"p",25),t._uU(4),t.qZA()(),t.BQk()}if(2&e){const n=c.$implicit;t.xp6(4),t.hij(" ",n.key.split("/").pop()," ")}}function ut(e,c){if(1&e&&(t.ynx(0,24),t.YNc(1,ht,5,1,"ng-container",16),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",n.file)}}function dt(e,c){1&e&&(t.ynx(0),t._UZ(1,"hr")(2,"br"),t.BQk())}function _t(e,c){if(1&e&&(t.ynx(0),t.YNc(1,dt,3,0,"ng-container",16),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",n.file)}}function pt(e,c){1&e&&(t.ynx(0),t._UZ(1,"hr")(2,"br"),t.BQk())}function ft(e,c){if(1&e&&(t.ynx(0),t.YNc(1,pt,3,0,"ng-container",16),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",n.file)}}const mt=function(e){return{color:e}};function Ct(e,c){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"tr"),t.YNc(2,st,2,2,"th",21),t.TgZ(3,"th",22)(4,"a",18),t.NdJ("click",function(){const i=t.CHM(n).index,l=t.oxw().index,r=t.oxw();return t.KtG(r.clickShow(l,i))}),t._uU(5),t.YNc(6,gt,2,1,"span",21),t.qZA(),t.YNc(7,ut,2,1,"ng-container",23),t.qZA(),t.TgZ(8,"td"),t._UZ(9,"br"),t.YNc(10,_t,2,1,"ng-container",21),t.qZA(),t.TgZ(11,"td"),t._UZ(12,"br"),t.YNc(13,ft,2,1,"ng-container",21),t.qZA()(),t.BQk()}if(2&e){const n=c.$implicit,a=c.index,o=t.oxw().$implicit;t.xp6(2),t.Q6J("ngIf",0===a),t.xp6(1),t.Q6J("ngStyle",t.VKq(8,mt,n.file.length>0?"rgb(60, 179, 113)":"rgb(100, 100, 100)")),t.xp6(2),t.AsE(" ",o.nhom," ",n.ten," "),t.xp6(1),t.Q6J("ngIf",n.file.length>0),t.xp6(1),t.Q6J("ngIf",0!=n.show),t.xp6(3),t.Q6J("ngIf",0!=n.show),t.xp6(3),t.Q6J("ngIf",0!=n.show)}}function bt(e,c){if(1&e&&(t.ynx(0),t.YNc(1,Ct,14,10,"ng-container",16),t.BQk()),2&e){const n=c.$implicit;t.xp6(1),t.Q6J("ngForOf",n.donvi)}}function xt(e,c){1&e&&(t.TgZ(0,"h3",33),t._uU(1,"C\u1ea3nh b\xe1o"),t.qZA())}function vt(e,c){1&e&&(t.TgZ(0,"h3",33),t._uU(1,"T\u1ea1o l\u1eadp b\xe1o c\xe1o"),t.qZA())}function Tt(e,c){if(1&e&&(t.TgZ(0,"p",34),t._uU(1),t.qZA()),2&e){const n=t.oxw(2);t.xp6(1),t.hij(" S\u1ed1 l\u01b0\u1ee3ng b\xe1o c\xe1o ch\u01b0a \u0111\u1ee7, ",n.countfile,"/26 \u0111\u01a1n v\u1ecb \u0111\xe3 n\u1ed9p b\xe1o c\xe1o. Ti\u1ebfp t\u1ee5c t\u1ea1o l\u1eadp? ")}}function wt(e,c){if(1&e&&(t.TgZ(0,"p",34),t._uU(1),t.qZA()),2&e){const n=t.oxw(2);t.xp6(1),t.hij(" ",n.countfile,"/26 \u0111\u01a1n v\u1ecb \u0111\xe3 n\u1ed9p b\xe1o c\xe1o. Ti\u1ebfp t\u1ee5c t\u1ea1o l\u1eadp? ")}}function yt(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"div",26),t.YNc(1,xt,2,0,"h3",27),t.YNc(2,vt,2,0,"h3",27),t.qZA(),t.TgZ(3,"div",28),t.YNc(4,Tt,2,1,"p",29),t.YNc(5,wt,2,1,"p",29),t.qZA(),t.TgZ(6,"div",30)(7,"button",31),t.NdJ("click",function(){const i=t.CHM(n).$implicit;return t.KtG(i.close("Close click"))}),t._uU(8," Kh\xf4ng "),t.qZA(),t.TgZ(9,"button",32),t.NdJ("click",function(){const i=t.CHM(n).$implicit,l=t.oxw();return i.close("Close click"),t.KtG(l.taobaocao())}),t._uU(10," C\xf3 "),t.qZA()()}if(2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.countfile<26),t.xp6(1),t.Q6J("ngIf",26==n.countfile),t.xp6(2),t.Q6J("ngIf",n.countfile<26),t.xp6(1),t.Q6J("ngIf",26==n.countfile)}}let Et=(()=>{class e{constructor(n,a,o,i){this.http=n,this.sanitizer=a,this.modalService=o,this.baocaoService=i,this.isVisible=!0,this.data=[{nhom:"Qu\xe2n ch\u1ee7ng",donvi:[{ten:"H\u1ea3i Qu\xe2n",show:!1,viettat:"HQ",file:[]},{ten:"PK-KQ",show:!1,viettat:"QCPK-KQ",file:[]}]},{nhom:"B\u1ed9 T\u01b0 l\u1ec7nh",donvi:[{ten:"C\u1ea3nh s\xe1t bi\u1ec3n",show:!1,viettat:"CSB",file:[]},{ten:"B\u1ed9 \u0111\u1ed9i bi\xean ph\xf2ng",show:!1,viettat:"BP",file:[]}]},{nhom:"Qu\xe2n khu",donvi:[{ten:"1",show:!1,viettat:"QK_1",file:[]},{ten:"2",show:!1,viettat:"QK_2",file:[]},{ten:"3",show:!1,viettat:"QK_3",file:[]},{ten:"4",show:!1,viettat:"QK_4",file:[]},{ten:"5",show:!1,viettat:"QK_5",file:[]},{ten:"6",show:!1,viettat:"QK_6",file:[]},{ten:"7",show:!1,viettat:"QK_7",file:[]},{ten:"9",show:!1,viettat:"QK_9",file:[]}]},{nhom:"Qu\xe2n \u0111o\xe0n",donvi:[{ten:"12",show:!1,viettat:"QD12",file:[]},{ten:"3",show:!1,viettat:"QD3",file:[]},{ten:"4",show:!1,viettat:"QD4",file:[]}]},{nhom:"T\u1ed5ng c\u1ee5c",donvi:[{ten:"2",show:!1,viettat:"TC2",file:[]},{ten:"H\u1eadu c\u1ea7n",show:!1,viettat:"TCHC",file:[]},{ten:"K\u1ef9 thu\u1eadt",show:!1,viettat:"TCKT",file:[]}]},{nhom:"Binh ch\u1ee7ng",donvi:[{ten:"C\xf4ng binh",show:!1,viettat:"BCCB",file:[]},{ten:"\u0110\u1eb7c C\xf4ng",show:!1,viettat:"BCDC",file:[]},{ten:"H\xf3a h\u1ecdc",show:!1,viettat:"BCHH",file:[]},{ten:"Ph\xe1o binh",show:!1,viettat:"BCPB",file:[]},{ten:"T\u0103ng Thi\u1ebft gi\xe1p",show:!1,viettat:"TBCTG",file:[]},{ten:"Th\xf4ng tin li\xean l\u1ea1c",show:!1,viettat:"BCTTLL",file:[]}]},{nhom:"C\u1ee5c",donvi:[{ten:"C\u1ee9u h\u1ed9 c\u1ee9u n\u1ea1n",show:!1,viettat:"CHCN",file:[]}]}]}ngOnInit(){this.getCurrentDateTime();const n=this.currentDateTime.getFullYear(),a=("0"+(this.currentDateTime.getMonth()+1)).slice(-2),o=("0"+this.currentDateTime.getDate()).slice(-2);this.initialDate=`${n}-${a}-${o}`,this.date=`${o}-${a}-${n}`,this.baocaoService.getBaoCao().subscribe(i=>{console.log(i),this.listfile=i,this.getFileCount(`${a}.${n}`)})}getFileCount(n){this.countfile=0;for(let a of this.data)for(let o of a.donvi)o.file=this.listfile.filter(i=>i.key.includes(o.viettat)&&i.key.includes(n)),o.file.length>0&&(this.countfile=this.countfile+1)}getCurrentDateTime(){this.currentDateTime=new Date}openDialog(n){this.modalService.open(n,{centered:!0})}toggleVisibility(){this.isVisible=!this.isVisible}clickShow(n,a){this.data[n].donvi[a].show=!this.data[n].donvi[a].show}changeDate(){const n=this.initialDate.split("-")[0],a=this.initialDate.split("-")[1],o=this.initialDate.split("-")[2];this.date=`${o}-${a}-${n}`,this.getFileCount(`${a}.${n}`)}taobaocao(){const n=new _.WM({Accept:"multipart/form-data"}),a=new FormData;return a.append("date",this.initialDate),this.http.post("http://192.168.68.3:4623/download-file-day",a,{headers:n,responseType:"blob"}).subscribe(i=>{const l=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),r=window.URL.createObjectURL(l),h=document.createElement("a");h.href=r,h.download="baocaongay"+this.date,h.click(),window.URL.revokeObjectURL(r)},i=>{console.error("Error fetching file:",i)})}downloadFile(n){return this.http.get(x.N.fileServer+"MinIO/download?bucketName=gtvt&path="+n,{responseType:"blob"}).subscribe(o=>{const i=new Blob([o],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),l=window.URL.createObjectURL(i),r=document.createElement("a");r.href=l,r.download=n.split("/").pop(),r.click(),window.URL.revokeObjectURL(l)},o=>{console.error("Error fetching file:",o)})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(_.eN),t.Y36(m.H7),t.Y36(v.FF),t.Y36(y))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-thang"]],decls:36,vars:2,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header"],[1,"mb-0"],[1,"card-body"],[1,"selectdate"],[1,"mt-2"],["displayFormat","MM-yyyy",1,"input-date",3,"value","valueChange","onValueChanged"],["icon","refresh","text","T\u1ea3i d\u1eef li\u1ec7u"],["routerLink","/tong-hop-va-tao-lap/ngay/nang-cao"],[1,"btn","btn-success"],[1,"card-footer"],[1,"view-table"],[1,"table","align-middle"],[1,"bg-light"],[4,"ngFor","ngForOf"],[1,"btllapbc","mt-3"],[3,"click"],["type","submit",1,"btn","btn-success"],["content",""],[4,"ngIf"],[1,"styleleft",3,"ngStyle"],["class","p-0 m-0",4,"ngIf"],[1,"p-0","m-0"],[1,"stylep","file"],[1,"modal-header"],["class","modal-title",4,"ngIf"],[1,"modal-body"],["class","canhbao",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btntaidl","btn-danger",3,"click"],["type","button",1,"btn","btntaidl","btnw","btn-success",3,"click"],[1,"modal-title"],[1,"canhbao"]],template:function(n,a){if(1&n){const o=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5,"T\u1ed5ng h\u1ee3p v\xe0 t\u1ea1o l\u1eadp b\xe1o c\xe1o th\xe1ng"),t.qZA()(),t.TgZ(6,"div",5)(7,"div",6)(8,"label",7),t._uU(9,"Th\xe1ng :"),t.qZA(),t.TgZ(10,"dx-date-box",8),t.NdJ("valueChange",function(l){return a.initialDate=l})("onValueChanged",function(){return a.changeDate()}),t.qZA(),t._UZ(11,"dx-button",9),t.qZA(),t.TgZ(12,"a",10)(13,"button",11),t._uU(14,"N\xe2ng cao"),t.qZA()()(),t.TgZ(15,"div",12)(16,"div",13)(17,"table",14)(18,"thead")(19,"tr",15)(20,"th"),t._uU(21,"Nh\xf3m"),t.qZA(),t.TgZ(22,"th"),t._uU(23,"\u0110\u01a1n v\u1ecb"),t.qZA(),t.TgZ(24,"th"),t._uU(25,"Th\u1eddi gian g\u1eedi"),t.qZA(),t.TgZ(26,"th"),t._uU(27,"Ng\u01b0\u1eddi g\u1eedi"),t.qZA()()(),t.TgZ(28,"tbody"),t.YNc(29,bt,2,1,"ng-container",16),t.qZA()()(),t.TgZ(30,"div",17)(31,"a",18),t.NdJ("click",function(){t.CHM(o);const l=t.MAs(35);return t.KtG(a.openDialog(l))}),t.TgZ(32,"button",19),t._uU(33," T\u1ea1o l\u1eadp b\xe1o c\xe1o "),t.qZA()()()()()()(),t.YNc(34,yt,11,4,"ng-template",null,20,t.W1O)}2&n&&(t.xp6(10),t.Q6J("value",a.initialDate),t.xp6(19),t.Q6J("ngForOf",a.data))},dependencies:[u.sg,u.O5,u.PC,p.yS,C.K,b.M],styles:['@charset "UTF-8";.input-date[_ngcontent-%COMP%]{width:200px;margin-left:20px;margin-right:70px}.card-body[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center}.selectdate[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #dddddd}.btllapbc[_ngcontent-%COMP%]{display:flex;justify-content:end;margin-right:10px;flex-wrap:wrap}.card-body[_ngcontent-%COMP%]{margin-left:50px;margin-right:50px}.card-footer[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.btntaidl[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:4px}.ri-refresh-line[_ngcontent-%COMP%]{font-size:11px;font-weight:700}.btnw[_ngcontent-%COMP%]{width:65px}.ri-download-2-fill[_ngcontent-%COMP%], .ri-repeat-2-line[_ngcontent-%COMP%], .ri-restart-line[_ngcontent-%COMP%]{font-weight:700;font-size:18px}.listbtn[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:end;margin-right:10px}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#f8f9fa;z-index:1}.view-table[_ngcontent-%COMP%]{height:calc(100vh - 385px);overflow-y:scroll}.stylep[_ngcontent-%COMP%]{color:#000;font-weight:400}.file[_ngcontent-%COMP%]{text-align:center;margin-left:30px;margin-right:30px;margin-bottom:0}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}.styleleft[_ngcontent-%COMP%]{text-align:left}table[_ngcontent-%COMP%]{font-size:14px}hr[_ngcontent-%COMP%]{color:#4e4d4d}.canhbao[_ngcontent-%COMP%]{font-size:17px!important}']}),e})(),Ot=(()=>{class e{constructor(n,a,o){this.http=n,this.sanitizer=a,this.route=o,this.urlDoc="https://docs.google.com/document/d/1hdYNmDiPdBVi_MsXeQ1Vr0QSaC-jP-qxLrrg7u10txk/edit",this.route.queryParams.subscribe(i=>{this.initialDate=i.time,console.log(this.initialDate)})}ngOnInit(){this.getCurrentDateTime(),this.urlSafe=this.sanitizer.bypassSecurityTrustResourceUrl(this.urlDoc)}get baocaotonghop(){const n=new _.WM({Accept:"multipart/form-data"}),a=new FormData;return a.append("date",this.initialDate),this.http.post("http://192.168.68.3:4623/download-file-day",a,{headers:n,responseType:"blob"}).subscribe(i=>{const l=new Blob([i],{type:"application/msword"});this.googleDocsViewerUrl="https://docs.google.com/viewer?url="+encodeURIComponent(URL.createObjectURL(l)),this.readFileContent(l)},i=>{console.error("Error fetching file:",i)})}readFileContent(n){const a=new FileReader;try{a.onload=()=>{this.fileContent=a.result?.toString()},a.readAsDataURL(n)}catch(o){console.log(o)}}getCurrentDateTime(){this.currentDateTime=new Date}dowload(){const n=document.createElement("a");n.href=this.fileContent,n.download="file_report.doc",document.body.appendChild(n),n.click(),document.body.removeChild(n)}openDoc(){const n="https://docs.google.com/viewer?url="+encodeURIComponent(this.googleDocsViewerUrl);console.log(n),window.open(n,"_blank")}changeDate(n){const a=new _.WM({Accept:"multipart/form-data"}),o=new FormData;return o.append("date",n),this.http.post("http://192.168.68.3:4623/download-file-day",o,{headers:a,responseType:"blob"}).subscribe(l=>{const r=new Blob([l],{type:"application/msword"});this.googleDocsViewerUrl="https://docs.google.com/viewer?url="+encodeURIComponent(URL.createObjectURL(r)),this.readFileContent(r)},l=>{console.error("Error fetching file:",l)})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(_.eN),t.Y36(m.H7),t.Y36(p.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-tao-lap-bao-cao"]],decls:35,vars:2,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header"],[1,"mb-0"],[1,"card-body"],[1,"selectdate"],[1,"mt-2"],["type","date",1,"form-control","input-date",3,"value","input"],[1,"me-2"],["icon","remove","text","\u0110\xf3ng","routerLink","/tong-hop-va-tao-lap/ngay"],[1,"card-footer"],[1,"ttbtl"],[1,"table","align-middle","mt-2"],[1,"bg-light"],[1,"tdcenter"],[1,"btn","btntaidl","m-2",3,"click"],[1,"ri-download-2-fill"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5),t.qZA()(),t.TgZ(6,"div",5)(7,"div",6)(8,"label",7),t._uU(9,"Ng\xe0y :"),t.qZA(),t.TgZ(10,"input",8),t.NdJ("input",function(i){return a.changeDate(i.target.value)}),t.qZA(),t._UZ(11,"p"),t.qZA(),t.TgZ(12,"div",9),t._UZ(13,"dx-button",10),t.qZA()(),t.TgZ(14,"div",11)(15,"div",12)(16,"h5"),t._uU(17,"Danh s\xe1ch b\xe1o c\xe1o"),t.qZA()(),t.TgZ(18,"table",13)(19,"thead")(20,"tr",14)(21,"th"),t._uU(22,"T\xean file"),t.qZA(),t.TgZ(23,"th"),t._uU(24,"Tr\u1ea1ng th\xe1i"),t.qZA(),t._UZ(25,"th"),t.qZA()(),t.TgZ(26,"tbody")(27,"tr")(28,"th"),t._uU(29,"file_report.doc"),t.qZA(),t.TgZ(30,"td",15),t._uU(31,"Done"),t.qZA(),t.TgZ(32,"td",15)(33,"button",16),t.NdJ("click",function(){return a.dowload()}),t._UZ(34,"span",17),t.qZA()()()()()()()()()),2&n&&(t.xp6(5),t.hij("T\u1ed5ng h\u1ee3p v\xe0 t\u1ea1o l\u1eadp b\xe1o c\xe1o ng\xe0y ",a.date,""),t.xp6(5),t.Q6J("value",a.initialDate))},dependencies:[p.rH,C.K],styles:['@charset "UTF-8";.input-date[_ngcontent-%COMP%]{width:200px;margin-left:20px;margin-right:70px}.selectdate[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #dddddd}.card[_ngcontent-%COMP%]{border:#dddddd .05px solid}.card-footer[_ngcontent-%COMP%]{height:calc(100vh - 326px)}.ttbtl[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap}.listbtn[_ngcontent-%COMP%]{display:flex;justify-content:end;margin-right:10px}.btntaidl[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:4px}.ri-file-text-line[_ngcontent-%COMP%], .ri-alert-fill[_ngcontent-%COMP%], .ri-download-2-fill[_ngcontent-%COMP%], .ri-printer-fill[_ngcontent-%COMP%], .ri-restart-line[_ngcontent-%COMP%], .ri-add-line[_ngcontent-%COMP%], .ri-subtract-line[_ngcontent-%COMP%], .ri-check-line[_ngcontent-%COMP%]{font-weight:700;font-size:18px}.tonghopbc[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.w[_ngcontent-%COMP%]{width:48%;min-width:400px}@media (max-width: 800px){.w[_ngcontent-%COMP%]{width:100%}}.viewdoc[_ngcontent-%COMP%]{width:100%;height:500px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%], .tdcenter[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}.card-body[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center}.card-body[_ngcontent-%COMP%]{margin-left:50px;margin-right:50px}.card-footer[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;height:calc(100vh - 300px)}']}),e})();function Zt(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"input",28),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,i=t.oxw();return t.KtG(i.changecheck(o))}),t.qZA()}if(2&e){const n=t.oxw().$implicit,a=t.oxw();t.Q6J("checked",a.listcheck[n])}}function Mt(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,i=t.oxw();return t.KtG(i.changeaction(o,"add"))}),t._UZ(1,"span",29),t.qZA()}if(2&e){const n=t.oxw().$implicit,a=t.oxw();t.ekj("btntaidl2","add"===a.data.hanhdong[n])}}function kt(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,i=t.oxw();return t.KtG(i.changeaction(o,"change"))}),t._UZ(1,"span",30),t.qZA()}if(2&e){const n=t.oxw().$implicit,a=t.oxw();t.ekj("btntaidl2","change"===a.data.hanhdong[n])}}function At(e,c){if(1&e&&(t.ynx(0),t.TgZ(1,"tr")(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t.YNc(7,Zt,1,1,"input",25),t._uU(8),t.qZA(),t.TgZ(9,"td",26),t.YNc(10,Mt,2,2,"button",27),t.YNc(11,kt,2,2,"button",27),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA()(),t.BQk()),2&e){const n=c.$implicit,a=t.oxw();t.xp6(3),t.Oqu(a.data.ten[n]),t.xp6(2),t.Oqu(a.data.baocao[0][n]),t.xp6(2),t.Q6J("ngIf",""!=a.data.baocao[1][n]),t.xp6(1),t.hij(" ",a.data.baocao[1][n]," "),t.xp6(2),t.Q6J("ngIf",""!=a.data.baocao[0][n]),t.xp6(1),t.Q6J("ngIf",""!=a.data.baocao[0][n]),t.xp6(2),t.Oqu(a.data.ketquatonghop[n])}}const Dt=[{path:"ngay",component:H},{path:"ngay/nang-cao",component:(()=>{class e{constructor(){this.data={ten:["I, T\xccNH H\xccNH CHUNG","1. Ho\u1ea1t \u0111\u1ed9ng c\u1ee7a t\xe0u qu\xe2n s\u1ef1","2. Ho\u1ea1t \u0111\u1ed9ng c\u1ee7a t\xe0u c\xe1 n\u01b0\u1edbc ngo\xe0i","a, Khu v\u1ef1c VBB"],baocao:[["","T\xe0u HQQ-5591: M\u1ea5t t\xedn hi\u1ec7u","","Kh\xf4ng ph\xe1t hi\u1ec7n vi ph\u1ea1m"],["","","","Ph\xe1t hi\u1ec7n 3 vi ph\u1ea1m \u0111\xe1nh b\u1eaft"]],hanhdong:["","","",""],ketquatonghop:["","T\xe0u HQQ-5591: M\u1ea5t t\xedn hi\u1ec7u","","Kh\xf4ng ph\xe1t hi\u1ec7n vi ph\u1ea1m"]},this.listaction=[],this.listcheck=[!1,!1,!1,!1]}ngOnInit(){this.getCurrentDateTime();const n=this.currentDateTime.getFullYear(),a=("0"+(this.currentDateTime.getMonth()+1)).slice(-2),o=("0"+this.currentDateTime.getDate()).slice(-2);this.initialDate=`${n}-${a}-${o}`,this.date=`${o}-${a}-${n}`}getCurrentDateTime(){this.currentDateTime=new Date}range(n){return Array.from({length:n},(a,o)=>o)}changecheck(n){this.listcheck[n]=!this.listcheck[n]}changeaction(n,a){!0===this.listcheck[n]&&(this.data.hanhdong[n]=a,this.listaction.push(n),"add"===a?this.data.ketquatonghop[n]=this.data.baocao[0][n]+","+this.data.baocao[1][n]:"change"===a&&(this.data.ketquatonghop[n]=this.data.baocao[1][n]))}rechange(){var n=this.listaction[this.listaction.length-1];this.data.hanhdong[n]="",this.data.ketquatonghop[n]=this.data.baocao[0][n],this.listcheck[n]=!1,this.listaction.pop()}refresh(){this.data={ten:["I, T\xccNH H\xccNH CHUNG","1. Ho\u1ea1t \u0111\u1ed9ng c\u1ee7a t\xe0u qu\xe2n s\u1ef1","2. Ho\u1ea1t \u0111\u1ed9ng c\u1ee7a t\xe0u c\xe1 n\u01b0\u1edbc ngo\xe0i","a, Khu v\u1ef1c VBB"],baocao:[["","T\xe0u HQQ-5591: M\u1ea5t t\xedn hi\u1ec7u","","Kh\xf4ng ph\xe1t hi\u1ec7n vi ph\u1ea1m"],["","","","Ph\xe1t hi\u1ec7n 3 vi ph\u1ea1m \u0111\xe1nh b\u1eaft"]],hanhdong:["","","",""],ketquatonghop:this.data.baocao[0]},this.listaction=[],this.listcheck=[!1,!1,!1,!1]}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-nang-cao"]],decls:54,vars:3,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header"],[1,"mb-0"],[1,"card-body"],[1,"selectdate"],[1,"mt-2"],["displayFormat","dd-MM-yyyy",1,"input-date",3,"value","valueChange"],[1,"me-2"],["icon","remove","text","\u0110\xf3ng","routerLink","/tong-hop-va-tao-lap/ngay"],[1,"card-footer"],[1,"listbtn"],[1,"btn","btntaidl","m-2"],[1,"ri-download-2-fill"],[1,"btn","btntaidl","m-2",3,"click"],[1,"ri-repeat-2-line"],[1,"ri-restart-line"],[1,"view-table"],[1,"table","align-middle"],[1,"bg-light"],["colspan","2"],[1,"flex-th"],["type","checkbox"],[4,"ngFor","ngForOf"],["type","checkbox",3,"checked","click",4,"ngIf"],[1,"center"],["class","btn btntaidl m-2",3,"btntaidl2","click",4,"ngIf"],["type","checkbox",3,"checked","click"],[1,"ri-add-line"],[1,"ri-arrow-right-line"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5),t.qZA()(),t.TgZ(6,"div",5)(7,"div",6)(8,"label",7),t._uU(9,"Ng\xe0y :"),t.qZA(),t.TgZ(10,"dx-date-box",8),t.NdJ("valueChange",function(i){return a.initialDate=i}),t.qZA(),t._UZ(11,"p"),t.qZA(),t.TgZ(12,"div",9),t._UZ(13,"dx-button",10),t.qZA()(),t.TgZ(14,"div",11)(15,"div",12)(16,"button",13),t._UZ(17,"span",14),t.qZA(),t.TgZ(18,"button",15),t.NdJ("click",function(){return a.refresh()}),t._UZ(19,"span",16),t.qZA(),t.TgZ(20,"button",15),t.NdJ("click",function(){return a.rechange()}),t._UZ(21,"span",17),t.qZA()(),t._UZ(22,"br"),t.TgZ(23,"div",18)(24,"table",19)(25,"thead")(26,"tr",20)(27,"th"),t._uU(28,"T\xean"),t.qZA(),t.TgZ(29,"th",21),t._uU(30,"B\xe1o c\xe1o"),t.qZA(),t.TgZ(31,"th"),t._uU(32,"H\xe0nh \u0111\u1ed9ng"),t.qZA(),t.TgZ(33,"th"),t._uU(34,"K\u1ebft qu\u1ea3 t\u1ed5ng h\u1ee3p"),t.qZA()(),t.TgZ(35,"tr",20),t._UZ(36,"th"),t.TgZ(37,"th"),t._uU(38," B\xe1o c\xe1o ng\xe0y "),t._UZ(39,"br"),t._uU(40," (10:30) "),t.qZA(),t.TgZ(41,"th")(42,"div",22),t._UZ(43,"input",23),t.TgZ(44,"div"),t._uU(45," B\xe1o c\xe1o \u0111\u1ed9t xu\u1ea5t 1 "),t._UZ(46,"br"),t.TgZ(47,"span"),t._uU(48,"(20:30)"),t.qZA()(),t._UZ(49,"div"),t.qZA()(),t._UZ(50,"th")(51,"th"),t.qZA()(),t.TgZ(52,"tbody"),t.YNc(53,At,14,7,"ng-container",24),t.qZA()()()()()()()),2&n&&(t.xp6(5),t.hij("T\u1ed5ng h\u1ee3p v\xe0 t\u1ea1o l\u1eadp b\xe1o c\xe1o ng\xe0y ",a.date,""),t.xp6(5),t.Q6J("value",a.initialDate),t.xp6(43),t.Q6J("ngForOf",a.range(a.data.ten.length)))},dependencies:[u.sg,u.O5,p.rH,C.K,b.M],styles:['@charset "UTF-8";.input-date[_ngcontent-%COMP%]{width:200px;margin-left:20px;margin-right:70px}.card-body[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center}.selectdate[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #dddddd}.card-body[_ngcontent-%COMP%]{margin-left:50px;margin-right:50px}.card-footer[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;height:calc(100vh - 300px)}.btntaidl[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:4px}.btntaidl2[_ngcontent-%COMP%]{border:1px solid #3d81a8;border-radius:4px}.ri-refresh-line[_ngcontent-%COMP%]{font-size:11px;font-weight:700}.btnw[_ngcontent-%COMP%]{width:65px}.ri-download-2-fill[_ngcontent-%COMP%], .ri-repeat-2-line[_ngcontent-%COMP%], .ri-restart-line[_ngcontent-%COMP%], .ri-add-line[_ngcontent-%COMP%], .ri-arrow-right-line[_ngcontent-%COMP%]{font-weight:700;font-size:18px}.listbtn[_ngcontent-%COMP%]{display:flex;justify-content:end;margin-right:10px;flex-wrap:wrap}th[_ngcontent-%COMP%], .center[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}.flex-th[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.table[_ngcontent-%COMP%]{font-size:120%}.view-table[_ngcontent-%COMP%]{height:calc(100vh - 394px);overflow-y:scroll}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#f8f9fa;z-index:1}']}),e})()},{path:"ngay/tao-lap-bao-cao",component:Ot},{path:"ngay/hien-thi-bao-cao",component:(()=>{class e{constructor(n){this.sanitizer=n,this.urlDoc="https://docs.google.com/document/d/1hdYNmDiPdBVi_MsXeQ1Vr0QSaC-jP-qxLrrg7u10txk/edit"}ngOnInit(){this.urlSafe=this.sanitizer.bypassSecurityTrustResourceUrl(this.urlDoc)}getCurrentDateTime(){}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(m.H7))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-hien-thi-bao-cao"]],decls:1,vars:1,consts:[[1,"viewdoc",3,"src"]],template:function(n,a){1&n&&t._UZ(0,"iframe",0),2&n&&t.Q6J("src",a.urlSafe,t.uOi)},styles:[".viewdoc[_ngcontent-%COMP%]{width:100%;height:80vh}"]}),e})()},{path:"tuan",component:rt},{path:"thang",component:Et}];let Ut=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[p.Bz.forChild(Dt),p.Bz]}),e})();var Pt=s(79017),Qt=s(67920),O=s(56213),Z=s(28551),d=(s(71499),s(2214),s(44083),s(6360),s(24288),s(21736),s(72447)),g=s(84943),Ft=function(){var e=(0,Z.Z)(function c(){(0,O.Z)(this,c)});return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[g.Oll,g.Q8p,g.e1H,g.$D5,g.Jiy,g._9O,g.kSd,d.Lz,d.ie,m.Cu],g.Oll,g.Q8p,g.e1H,g.$D5,g.Jiy,g._9O,g.kSd,d.ie]}),e}(),It=s(52599),St=s(24494),$t=s(16219),Jt=s(89033),Lt=s(54288);let Kt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.ez,Ut,Pt.x,Qt.k,C.e,Ft,It.D,St.u,$t.V,Jt.a,v.jF,Lt.g,b.k]}),e})()}}]);